<route lang="json5">
{
  layout: 'default',
  needLogin: true,
  style: {
    navigationStyle: 'custom',
    'mp-alipay': {
      transparentTitle: 'always',
      titlePenetrate: 'YES',
    },
  },
}
</route>
<script lang="ts" setup>
import { NAVIGATE_TYPE } from '@/enums/routerEnum'
import { routeTo } from '@/utils'
import useLogin from './utils/useLogin'
const { Login, model, rules, read } = useLogin()
const form = ref(null)
const logo = ref('https://unpkg.com/wot-design-uni-assets/meng.jpg')

const to = () => {
  routeTo({ url: '/pages/aa/index', navType: NAVIGATE_TYPE.NAVIGATE_TO })
}

const otherLogins = ref([
  {
    icon: 'i-carbon:logo-wechat',
    name: 'å¾®ä¿¡',
    color: '#00c800',
  },
  {
    icon: 'fa6-brands:qq',
    name: 'QQ',
    color: '#4980ff',
  },
  {
    icon: 'i-carbon:email',
    name: 'é‚®ç®±',
    color: '#e6162d',
  },
])
const toRegister = () => {
  console.log('ğŸ¯')
}
</script>
<template>
  <view class="h-40 top pt-8 box-border">
    <view class="flex justify-center">
      <wd-img :width="100" :height="100" :src="logo" round enable-preview />
    </view>
  </view>
  <view class="px-30px py-10px mt-4.5">
    <wd-form ref="form" :model="model">
      <view class="py-10px mb-2">
        <view class="my-5px color-blue">è´¦å·</view>
        <wd-input
          type="text"
          v-model="model.na"
          placeholder="è¯·è¾“å…¥æ‰‹æœºå·/é‚®ç®±"
          :rules="rules.na"
          prop="na"
        />
      </view>
      <view class="py-2 mb-5">
        <view class="my-5px color-blue">å¯†ç </view>
        <wd-input
          type="text"
          v-model="model.ps"
          show-password
          placeholder="è¯·è¾“å…¥å¯†ç "
          :rules="rules.ps"
          prop="ps"
        />
      </view>
      <view class="py-2 mb-5">
        <view class="my-5px color-blue">éªŒè¯ç </view>
        <wd-input
          type="text"
          v-model="model.co"
          placeholder="è¯·è¾“å…¥éªŒè¯ç "
          :rules="rules.co"
          use-suffix-slot
          prop="co"
          :maxlength="4"
        >
          <template #suffix>
            <dy-verify />
          </template>
        </wd-input>
      </view>

      <view>
        <wd-button type="primary" size="medium" @click="Login(form)" block>ç™» å½•</wd-button>
        <view class="mt-4 color-gray text-center font-size-12px">
          <wd-button type="text" custom-class="text-btn" @click="toRegister">ç«‹å³æ³¨å†Œ</wd-button>
          <text class="mx-10px">|</text>
          <wd-button type="text" custom-class="text-btn">å¿˜è®°å¯†ç </wd-button>
        </view>
      </view>

      <view class="mt-8">
        <wd-divider>å…¶ä»–ç™»å½•æ–¹å¼</wd-divider>
        <view class="flex justify-center items-center mt-20px gap-10px">
          <view
            v-for="(item, index) in otherLogins"
            :key="index"
            :class="item.icon"
            class="color-#4d80f0 font-size-20px"
            @click="to"
          />
        </view>
      </view>

      <view class="fixed bottom-3 left-0 right-0">
        <view class="px-8 py-1">
          <wd-checkbox v-model="read" prop="read" custom-label-class="label-class">
            å·²é˜…è¯»å¹¶åŒæ„
            <text class="color-#4d80f0">ã€Šåœ¨çº¿è€ƒè¯•åŠç›¸å…³æˆæƒã€‹</text>
          </wd-checkbox>
        </view>
      </view>
    </wd-form>
  </view>
</template>
<style lang="scss" scoped>
.top {
  clip-path: inset(0% 0% 10% 0% round 0% 0 44% 44%);
  background-image: linear-gradient(to bottom, rgb(22, 104, 235), rgb(110, 163, 247));
}
:deep(.label-class),
:deep(.text-btn) {
  font-size: 12px !important;
  color: #999 !important;
}
</style>
